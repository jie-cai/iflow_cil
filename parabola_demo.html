<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抛物线演示</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
        }
        
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        canvas {
            border: 1px solid #ddd;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        label {
            font-weight: bold;
            color: #333;
        }
        
        input[type="number"] {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <canvas id="parabolaCanvas" width="800" height="600"></canvas>
        <div class="controls">
            <div class="control-group">
                <label>a:</label>
                <input type="number" id="paramA" value="0.5" step="0.1">
            </div>
            <div class="control-group">
                <label>b:</label>
                <input type="number" id="paramB" value="0" step="0.1">
            </div>
            <div class="control-group">
                <label>c:</label>
                <input type="number" id="paramC" value="-2" step="0.1">
            </div>
            <button onclick="drawGraph()">绘制</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('parabolaCanvas');
        const ctx = canvas.getContext('2d');
        
        function drawGraph() {
            // 获取参数
            const a = parseFloat(document.getElementById('paramA').value);
            const b = parseFloat(document.getElementById('paramB').value);
            const c = parseFloat(document.getElementById('paramC').value);
            
            // 清空画布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 设置坐标系参数
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const scale = 40; // 像素/单位
            
            // 绘制坐标轴
            drawAxes(centerX, centerY, scale);
            
            // 绘制抛物线
            drawParabola(a, b, c, centerX, centerY, scale);
        }
        
        function drawAxes(centerX, centerY, scale) {
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 1;
            
            // 绘制x轴
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.stroke();
            
            // 绘制y轴
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.stroke();
            
            // 绘制刻度和刻度值
            ctx.fillStyle = 'black';
            ctx.font = '12px Arial';
            
            // x轴刻度
            for (let i = -Math.floor(centerX / scale); i <= Math.floor(centerX / scale); i++) {
                if (i !== 0) {
                    const x = centerX + i * scale;
                    
                    // 刻度线
                    ctx.beginPath();
                    ctx.moveTo(x, centerY - 5);
                    ctx.lineTo(x, centerY + 5);
                    ctx.stroke();
                    
                    // 刻度值
                    ctx.fillText(i.toString(), x - 5, centerY + 20);
                }
            }
            
            // y轴刻度
            for (let i = -Math.floor(centerY / scale); i <= Math.floor(centerY / scale); i++) {
                if (i !== 0) {
                    const y = centerY - i * scale;
                    
                    // 刻度线
                    ctx.beginPath();
                    ctx.moveTo(centerX - 5, y);
                    ctx.lineTo(centerX + 5, y);
                    ctx.stroke();
                    
                    // 刻度值
                    ctx.fillText(i.toString(), centerX + 10, y + 5);
                }
            }
            
            // 原点标记
            ctx.fillText('O', centerX + 10, centerY + 20);
        }
        
        function drawParabola(a, b, c, centerX, centerY, scale) {
            ctx.strokeStyle = 'red';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            
            let firstPoint = true;
            
            // 计算抛物线的x范围
            const xMin = -centerX / scale;
            const xMax = centerX / scale;
            const step = 0.1; // 步长
            
            for (let x = xMin; x <= xMax; x += step) {
                const y = a * x * x + b * x + c;
                const pixelX = centerX + x * scale;
                const pixelY = centerY - y * scale;
                
                if (firstPoint) {
                    ctx.moveTo(pixelX, pixelY);
                    firstPoint = false;
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            
            ctx.stroke();
        }
        
        // 页面加载时绘制初始图形
        window.onload = function() {
            drawGraph();
        };
    </script>
</body>
</html>