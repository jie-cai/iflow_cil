<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二次函数曲线图</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        canvas {
            border: 1px solid #ccc;
            background-color: white;
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .controls label {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .controls input {
            width: 60px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>二次函数曲线 y = ax² + bx + c</h1>
    
    <div class="controls">
        <label>
            a = <input type="number" id="paramA" value="1" step="0.1">
        </label>
        <label>
            b = <input type="number" id="paramB" value="0" step="0.1">
        </label>
        <label>
            c = <input type="number" id="paramC" value="0" step="0.1">
        </label>
    </div>
    
    <canvas id="graphCanvas" width="800" height="600"></canvas>
    
    <script>
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;
        const centerX = width / 2;
        const centerY = height / 2;
        
        // 参数控制
        const paramA = document.getElementById('paramA');
        const paramB = document.getElementById('paramB');
        const paramC = document.getElementById('paramC');
        
        function drawGraph() {
            // 清空画布
            ctx.clearRect(0, 0, width, height);
            
            // 获取参数值
            const a = parseFloat(paramA.value) || 0;
            const b = parseFloat(paramB.value) || 0;
            const c = parseFloat(paramC.value) || 0;
            
            // 设置坐标范围（自适应）
            const xRange = 10;
            const yRange = 10;
            const xScale = width / (2 * xRange);
            const yScale = height / (2 * yRange);
            
            // 绘制坐标轴
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 1;
            
            // X轴
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(width, centerY);
            ctx.stroke();
            
            // Y轴
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, height);
            ctx.stroke();
            
            // 绘制刻度和标签
            ctx.fillStyle = 'black';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            
            // X轴刻度
            for (let i = -xRange; i <= xRange; i++) {
                if (i !== 0) {
                    const x = centerX + i * xScale;
                    ctx.beginPath();
                    ctx.moveTo(x, centerY - 5);
                    ctx.lineTo(x, centerY + 5);
                    ctx.stroke();
                    ctx.fillText(i.toString(), x, centerY + 10);
                }
            }
            
            // Y轴刻度
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';
            for (let i = -yRange; i <= yRange; i++) {
                if (i !== 0) {
                    const y = centerY - i * yScale;
                    ctx.beginPath();
                    ctx.moveTo(centerX - 5, y);
                    ctx.lineTo(centerX + 5, y);
                    ctx.stroke();
                    ctx.fillText(i.toString(), centerX + 10, y);
                }
            }
            
            // 原点标签
            ctx.fillText('0', centerX + 10, centerY + 15);
            
            // 绘制二次函数曲线
            if (a !== 0) {
                ctx.strokeStyle = 'red';
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                
                let firstPoint = true;
                for (let px = 0; px <= width; px++) {
                    const x = (px - centerX) / xScale;
                    const y = a * x * x + b * x + c;
                    const py = centerY - y * yScale;
                    
                    if (py >= 0 && py <= height) {
                        if (firstPoint) {
                            ctx.moveTo(px, py);
                            firstPoint = false;
                        } else {
                            ctx.lineTo(px, py);
                        }
                    }
                }
                ctx.stroke();
            }
            
            // 显示函数表达式
            ctx.fillStyle = 'red';
            ctx.font = '16px Arial';
            ctx.textAlign = 'left';
            ctx.textBaseline = 'top';
            const expression = `y = ${a}x² ${b >= 0 ? '+' : ''} ${b}x ${c >= 0 ? '+' : ''} ${c}`;
            ctx.fillText(expression, 20, 20);
        }
        
        // 监听参数变化
        paramA.addEventListener('input', drawGraph);
        paramB.addEventListener('input', drawGraph);
        paramC.addEventListener('input', drawGraph);
        
        // 初始绘制
        drawGraph();
    </script>
</body>
</html>